# 1.块划分方式

- h264: 采用四叉树划分或者二分划分
- h265: 采用四叉树划分或者二分划分
- av1: 四叉树 + 二分 + NX4N +  一边二分一边不分（T字）

--------------------------------------------------------
# 2.帧内预测模式：

- h264:
      16X16块 有 DC + Planer + 水平 + 垂直 4 种
      4X4块  有DC + 水平 + 垂直 + 6 种角度预测

- h265: 
      DC + Planer + 33 种角度预测

- av1:
      DC_PRED = 0,  
  	V_PRED,
  	H_PRED,
  	D45_PRED,
  	D135_PRED,
  	D113_PRED,
  	D157_PRED,
  	D203_PRED,
  	D67_PRED,
  	SMOOTH_PRED,
  	SMOOTH_V_PRED,
  	SMOOTH_H_PRED,
  	PAETH_PRED,
  	UV_CFL_PRED 
-    总结： dc + 3种 smoooth + PAETH_PRED + 
              角度预测(分别是 V + H +DXXX 一共八种分别前后补充三个间隔3度的模式，
              一共是 7 X8  = 56 种，这里把V ， H 本身也计入角度模式)
- ​    另外还有四种 interintra 模式
  ​        II_DC_PRED = 0,
  ​        II_V_PRED,
  ​        II_H_PRED,
  ​        II_SMOOTH_PRED,

    相关逻辑 看 predict_intra函数 
----------------------
# 3.熵编码

- h264 :CAVLC/CABAC 自适应变长编码/自适应二进制算术编码
           RBSP = SODB + 对齐字节
- h265: CABAC 自适应二进制算术编码
- av1：CDF 非二进制算术编码


# 4.并行技术

- h264 :
      图像/slice级别并行，2d-wave

- h265: 
      wpp：entropy_coding_sync_enabled为1会在行头进行熵概率更新。则行与行之间的熵编码可并行。
      gop/图像/slice/tile/ctb级别的并行

- av1 :
     伪WPP 熵编码解码过程无法并行，其余步骤可并行
     帧间并行

     av1通用 并行编码方案：

![AV编码并行](AV编码并行.PNG)

# 5.变换系数扫描方式

- h264：

  zig-zag

  逆场扫描，用于场模式

- h265：（没有zig-zag，只有类似的对角扫描，除了对角，还有水平，垂直共三种）

   1.块被分成4X4进行扫描

   2.块内的4X4之间与4X4内按照同样的方式进行扫描，都是对角或者都是垂直水平

   

- av1：垂直 + 水平 + zig-zag + 对角

# 6.量化

 量化矩阵：使用量化矩阵，则块内的不同位置的实际量化参数就会有区别